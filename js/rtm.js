var myChipMon=function(){var t={};function r(t){return t.toString(16).toUpperCase()}function s(t){return t?"ON":"OFF"}function _(t){return"#"+(t=function(t,e){var s=t+"";for(;s.length<e;)s="0"+s;return s}(t=r(t=Math.min(t,4095)),3))}return loadHead("style","css/rtm.css",function(){xhr("overlay_rtm.html",function(t){document.body.insertAdjacentHTML("beforeend",t),setTimeout(function(){document.getElementById("rtm6809").classList.add("fadeIn"),document.getElementById("rtm8912").classList.add("fadeIn"),document.getElementById("rtm6522").classList.add("fadeIn"),document.getElementById("rtmROMRAM").classList.add("fadeIn"),requestAnimationFrame(myChipMon.doLoop)},50)})}),t.doLoop=function(){requestAnimationFrame(t.doLoop),vecx.e8910.psg.VolA==1*vecx.e8910.psg.VolA&&(function(){var t=vecx.e6809;rtm_6809_reg_pc.innerText=r(t.reg_pc),rtm_6809_reg_a.innerText=r(t.reg_a),rtm_6809_reg_b.innerText=r(t.reg_b),rtm_6809_reg_dp.innerText=r(t.reg_dp),rtm_6809_reg_cc.innerText=r(t.reg_cc),rtm_6809_reg_x.innerText=r(t.reg_x.value),rtm_6809_reg_y.innerText=r(t.reg_y.value),rtm_6809_reg_u.innerText=r(t.reg_u.value),rtm_6809_reg_s.innerText=r(t.reg_s.value);var e=vecx.rtm;vecx.e8910.psg.ready?rtm_6809_pin_Res.classList.add("set"):rtm_6809_pin_Res.classList.remove("set"),e.lastRW?rtm_6809_pin_RW.classList.add("set"):rtm_6809_pin_RW.classList.remove("set");for(var s=e.lastAbsAdr,_=0;_<16;_++)s&1<<_?document.getElementById("rtm_6809_pin_A"+_).classList.add("set"):document.getElementById("rtm_6809_pin_A"+_).classList.remove("set");s=e.lastVal;for(_=0;_<8;_++)s&1<<_?document.getElementById("rtm_6809_pin_D"+_).classList.add("set"):document.getElementById("rtm_6809_pin_D"+_).classList.remove("set");e.clk?rtm_6809_pin_E.classList.add("set"):rtm_6809_pin_E.classList.remove("set"),8&vecx.shadow_snd_regs14?rtm_6809_pin_FIRQ.classList.add("set"):rtm_6809_pin_FIRQ.classList.remove("set")}(),function(){var t=vecx.e8910.psg;rtm_8912_tpA.innerText=r(t.PeriodA),rtm_8912_tpB.innerText=r(t.PeriodB),rtm_8912_tpC.innerText=r(t.PeriodC),rtm_8912_tcA.innerText=r(t.CountA),rtm_8912_tcB.innerText=r(t.CountB),rtm_8912_tcC.innerText=r(t.CountC),rtm_8912_vA.innerText=r(t.VolA),rtm_8912_vB.innerText=r(t.VolB),rtm_8912_vC.innerText=r(t.VolC),rtm_8912_tbA.innerText=s(t.OutputA),rtm_8912_tbB.innerText=s(t.OutputB),rtm_8912_tbC.innerText=s(t.OutputC),rtm_8912_np.innerText=r(t.PeriodN),rtm_8912_nc.innerText=r(t.CountN),rtm_8912_nr.innerText=r(t.RNG),rtm_8912_nb.innerText=s(t.OutputN),rtm_8912_ep.innerText=r(t.PeriodE),rtm_8912_ec.innerText=r(t.CountE),rtm_8912_ea.innerText=r(t.VolE),rtm_8912_eA.innerText=r(t.EnvelopeA),rtm_8912_eB.innerText=r(t.EnvelopeB),rtm_8912_eC.innerText=r(t.EnvelopeC);var e=vecx.shadow_snd_regs14;1&e?rtm_8912_pin_IOA0.classList.add("set"):rtm_8912_pin_IOA0.classList.remove("set"),2&e?rtm_8912_pin_IOA1.classList.add("set"):rtm_8912_pin_IOA1.classList.remove("set"),4&e?rtm_8912_pin_IOA2.classList.add("set"):rtm_8912_pin_IOA2.classList.remove("set"),8&e?rtm_8912_pin_IOA3.classList.add("set"):rtm_8912_pin_IOA3.classList.remove("set"),16&e?rtm_8912_pin_IOA4.classList.add("set"):rtm_8912_pin_IOA4.classList.remove("set"),32&e?rtm_8912_pin_IOA5.classList.add("set"):rtm_8912_pin_IOA5.classList.remove("set"),64&e?rtm_8912_pin_IOA6.classList.add("set"):rtm_8912_pin_IOA6.classList.remove("set"),128&e?rtm_8912_pin_IOA7.classList.add("set"):rtm_8912_pin_IOA7.classList.remove("set"),rtm_8912_pin_AnaA.style.backgroundColor=_(t.AnaA),rtm_8912_pin_AnaB.style.backgroundColor=_(t.AnaB),rtm_8912_pin_AnaC.style.backgroundColor=_(t.AnaC),t.ready?rtm_8912_pin_Res.classList.add("set"):rtm_8912_pin_Res.classList.remove("set"),t.BDir?rtm_8912_pin_BDir.classList.add("set"):rtm_8912_pin_BDir.classList.remove("set"),t.BC1?rtm_8912_pin_BC1.classList.add("set"):rtm_8912_pin_BC1.classList.remove("set"),1&(e=t.lastVal)?rtm_8912_pin_DA0.classList.add("set"):rtm_8912_pin_DA0.classList.remove("set"),2&e?rtm_8912_pin_DA1.classList.add("set"):rtm_8912_pin_DA1.classList.remove("set"),4&e?rtm_8912_pin_DA2.classList.add("set"):rtm_8912_pin_DA2.classList.remove("set"),8&e?rtm_8912_pin_DA3.classList.add("set"):rtm_8912_pin_DA3.classList.remove("set"),16&e?rtm_8912_pin_DA4.classList.add("set"):rtm_8912_pin_DA4.classList.remove("set"),32&e?rtm_8912_pin_DA5.classList.add("set"):rtm_8912_pin_DA5.classList.remove("set"),64&e?rtm_8912_pin_DA6.classList.add("set"):rtm_8912_pin_DA6.classList.remove("set"),128&e?rtm_8912_pin_DA7.classList.add("set"):rtm_8912_pin_DA7.classList.remove("set"),vecx.rtm.clk?rtm_8912_pin_Clk.classList.add("set"):rtm_8912_pin_Clk.classList.remove("set")}(),function(){var t=vecx.rtm;if(vecx.e8910.psg.ready?rtm_6522_pin_Res.classList.add("set"):rtm_6522_pin_Res.classList.remove("set"),t.lastRW?rtm_6522_pin_RW.classList.add("set"):rtm_6522_pin_RW.classList.remove("set"),t.clk?rtm_6522_pin_Clk.classList.add("set"):rtm_6522_pin_Clk.classList.remove("set"),"via"===t.lastTyp){rtm_6522_pin_CE.classList.add("set");for(var e=t.lastAdr,s=0;s<4;s++)e&1<<s?document.getElementById("rtm_6522_pin_A"+s).classList.add("set"):document.getElementById("rtm_6522_pin_A"+s).classList.remove("set");e=t.lastVal;for(s=0;s<8;s++)e&1<<s?document.getElementById("rtm_6522_pin_D"+s).classList.add("set"):document.getElementById("rtm_6522_pin_D"+s).classList.remove("set")}else{rtm_6522_pin_CE.classList.remove("set");for(s=0;s<8;s++)document.getElementById("rtm_6522_pin_D"+s).classList.remove("set"),s<4&&document.getElementById("rtm_6522_pin_A"+s).classList.remove("set")}vecx.via_ca1?rtm_6522_pin_CA1.classList.add("set"):rtm_6522_pin_CA1.classList.remove("set")}(),function(){var t=vecx.rtm;if("rom"===t.lastTyp){rtm_2363_pin_CE.classList.remove("set"),rtm_2363_pin_OE.classList.remove("set");for(var e=t.lastAdr,s=0;s<13;s++)e&1<<s?document.getElementById("rtm_2363_pin_A"+s).classList.add("set"):document.getElementById("rtm_2363_pin_A"+s).classList.remove("set");e=t.lastVal;for(s=0;s<8;s++)e&1<<s?document.getElementById("rtm_2363_pin_D"+s).classList.add("set"):document.getElementById("rtm_2363_pin_D"+s).classList.remove("set")}else{rtm_2363_pin_CE.classList.add("set"),rtm_2363_pin_OE.classList.add("set");for(s=0;s<13;s++)document.getElementById("rtm_2363_pin_A"+s).classList.remove("set"),s<8&&document.getElementById("rtm_2363_pin_D"+s).classList.remove("set")}}(),function(){var t=vecx.rtm;if(t.lastRW?rtm_2114a_pin_RW.classList.add("set"):rtm_2114a_pin_RW.classList.remove("set"),"ram"===t.lastTyp&&t.lastAdr<512){rtm_2114a_pin_CE.classList.remove("set");for(var e=t.lastAdr,s=0;s<10;s++)e&1<<s?document.getElementById("rtm_2114a_pin_A"+s).classList.add("set"):document.getElementById("rtm_2114a_pin_A"+s).classList.remove("set");e=t.lastVal;for(s=0;s<4;s++)e&1<<s?document.getElementById("rtm_2114a_pin_IO"+(s+1)).classList.add("set"):document.getElementById("rtm_2114a_pin_IO"+(s+1)).classList.remove("set")}else{rtm_2114a_pin_CE.classList.add("set");for(s=0;s<10;s++)document.getElementById("rtm_2114a_pin_A"+s).classList.remove("set"),s<4&&document.getElementById("rtm_2114a_pin_IO"+(s+1)).classList.remove("set")}}(),function(){var t=vecx.rtm;if(t.lastRW?rtm_2114b_pin_RW.classList.add("set"):rtm_2114b_pin_RW.classList.remove("set"),"ram"===t.lastTyp&&511<t.lastAdr){rtm_2114b_pin_CE.classList.remove("set");for(var e=t.lastAdr-511,s=0;s<10;s++)e&1<<s?document.getElementById("rtm_2114b_pin_A"+s).classList.add("set"):document.getElementById("rtm_2114b_pin_A"+s).classList.remove("set");e=t.lastVal;for(s=0;s<4;s++)e&1<<s?document.getElementById("rtm_2114b_pin_IO"+(s+1)).classList.add("set"):document.getElementById("rtm_2114b_pin_IO"+(s+1)).classList.remove("set")}else{rtm_2114b_pin_CE.classList.add("set");for(s=0;s<10;s++)document.getElementById("rtm_2114b_pin_A"+s).classList.remove("set"),s<4&&document.getElementById("rtm_2114b_pin_IO"+(s+1)).classList.remove("set")}}(),rtm_4052_pin_In2A.style.backgroundColor=_(vecx.alg_jch0+128),rtm_4052_pin_In2B.style.backgroundColor=_(vecx.alg_jch1+128),rtm_4052_pin_In2C.style.backgroundColor=_(vecx.alg_jch2+128),rtm_4052_pin_In2D.style.backgroundColor=_(vecx.alg_jch3+128),rtm_4052_pin_Out2.style.backgroundColor=_(vecx.alg_compare+128),rtm_4052_pin_Out1A.style.backgroundColor=_(vecx.alg_rsh+128),rtm_4052_pin_Out1B.style.backgroundColor=_(vecx.alg_xsh+128),rtm_4052_pin_Out1C.style.backgroundColor=_(vecx.alg_ysh+128),rtm_4052_pin_Out1D.style.backgroundColor=_(vecx.alg_zsh+128))},t}();